<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>01_01_Intro_RStudio_R.knit</title>
    <meta charset="utf-8" />
    <meta name="author" content="Selina Baldauf" />
    <meta name="date" content="2021-06-15" />
    <script src="01_01_Intro_RStudio_R_files/header-attrs-2.9/header-attrs.js"></script>
    <link href="01_01_Intro_RStudio_R_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="C:/Users/Selina_User/Files_Selina/Repos/02_workshops/intro-r-data-analysis/slides/css/new_slides.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">





class: inverse title-slide
background-image: url(img/AllisonHorst/rainbowr.gif)
background-size: 50%
background-position: 100% 100%

.footnote-right[Artwork by [Allison Horst](https://twitter.com/allison_horst)]

# Introduction to data analysis with R

## 

### Instructor: [Selina Baldauf](https://www.bcp.fu-berlin.de/biologie/arbeitsgruppen/botanik/ag_tietjen/People/wissenschaftliche_programmierer/baldauf/index.html) &lt;br&gt;

### Freie Universit√§t Berlin - Theoretical Ecology

.footnote-left[
  2021-06-15 (updated: 2021-07-24)
]

---

# Who am I?

.pull-left[

- scientific modeler with ecology background

- working in the theoretical ecology group ([Theoretical Ecology, AG Tietjen](https://www.bcp.fu-berlin.de/biologie/arbeitsgruppen/botanik/ag_tietjen/index.html))

- PhD student at Freie Universit√§t Berlin 
  - Topic: Modelling the impact of biological soil crusts on dryland hydrology
]

.pull-right[
.center[
![:scale 50%](img/day1/crust.png)
![:scale 50%](img/day1/el_cautivo.jpg)
]
]

---
# My experience with <svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>

#### What do I use R for?

- Short answer: everything
- Long answer:
  - modelling biocrusts
  - **cleaning data**
  - **visualizing data**
  - writing (interactive) documents 
  - doing presentations
  - **performing statistical analyes**
  - **wrangling data**
  - workflow automation
  - ...
  
#### Teaching

- Statistics with R for Biology Master students
- Workshops on R packages, R development, ...

---
 
# Who are you?

- Results of questionnaire
- Before afternoon session: build groups for people with similar data

---

# The Workshop: Topics

&lt;table style='width:100%;font-size:16pt'&gt;
  &lt;tr&gt;
    &lt;th&gt;Day&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&amp;nbsp&lt;/th&gt;
    &lt;th&gt;Main topic&lt;/th&gt;
    &lt;th&gt;Details&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;1&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;b&gt;Introduction to and programming with R&lt;/&gt;&lt;/td&gt;
    &lt;td&gt;
      &lt;ul&gt;
       &lt;li&gt; R Basics
       &lt;li&gt; Functions
       &lt;li&gt; Data frames
       &lt;li&gt;Get help
      &lt;/ul&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;2&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;b&gt;Data analysis with the tidyverse&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;
      &lt;ul&gt;
      &lt;li&gt; Data visualization with ggplot
      &lt;li&gt; Data transformation
      &lt;li&gt; Data import and tidy data
      &lt;/ul&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;3&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;b&gt;Statistical models&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;
      &lt;ul&gt;
        &lt;li&gt; Linear models
        &lt;li&gt; Generalized linear models: poisson and binary/binomial data
      &lt;/ul&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;4&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;b&gt;Bring your own data&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;Analyse your own research data in groups&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

---

# The Workshop: Schedule and Organization

üïò 9 a.m. - 4 p.m. (ü•™ ~ 12 a.m. - 1 p.m.)&lt;br&gt;
üìç  Webex meeting


#### Organization
- short input sessions
  - presentation and demonstration of a topic
- task regarding this topic
  - solve them in small groups
- discuss the tasks and additional questions

---

# The Workshop: Material

- All material can be found and downloaded from the workshop's website
  - presentations
  - tasks
  - solutions
  - additional resources
  
- [Joint document](https://hackmd.io/@selinaZitrone/r12pL71C_/edit) for all participants
  - collection of everything that comes up during the workshop
  - questions we should discuss together
  - additional resources and helpful links that you found
  - things we could look at if we have enough time

---

# Bring your own data

- small Hackaton on last workshop day

- work on your own research data in groups (or alone if you prefer)
    - I will provide some real life data sets from different topics if you don't have your own data

- define a question/goal beforehand and then work on it
- use any of the methods from the course, try new thing, ...

- present your results at the end of the day

---

# Bring your own data - preparation

- keep the last workshop day in mind during the next days
  - take note if you learn something that might be applicable to your data
  - think of questions that you would like to answer for your data set
  
--

- during the group work
  - if you are finished with the group tasks: talk about your data and questions with your group members -&gt; you might already find common interests and questions
  
---

# Bring your own data - preparation

Quick checklist for suitable data:

- formatted as one table with columns and rows
- each column is of the same length
- csv or txt format
- no big data with &gt; 100.000 rows

--

If you think you have a suitable data set:

- send it to me via email with a short description
  - I will check if the data is suitable
  - I will let you know what you have to do to prepare the data set for the Hackaton

--

If your data set is ready to be used: 

- Add it to our [joint document](https://hackmd.io/@selinaZitrone/r12pL71C_/edit)
- Others can go through the list and add their names to the data set they are interested in

---
# Before we get started

.large[Did anyone have problems installing R and RStudio?]

&lt;br&gt;

![:scale 10%](img/Rlogo.png) Download and install R from [https://cran.r-project.org](https://cran.r-project.org/)

![:scale 10%](img/Rstudio_logo.png) Download and install RStudio from             [https://www.rstudio.com](https://www.rstudio.com/products/rstudio/download/#download  )


---
class: inverse

# Let's get started

---

# Why learn <svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg>?

- free and open source
- lingua franca in computational statistics (can I find a graph?)
- regular updates, large community
- packages for extensions
- easy documentation
- reproducible workflows
- ...

BUT: You have to learn some programming (I see this as an advantage though)

&lt;!-- ---  --&gt;

&lt;!-- # History of R --&gt;

&lt;!-- - principles of S implemented in first R version in 1995 (**R**oss Ihaka and **R**obert Gentleman) --&gt;
&lt;!-- - Now version 4 (with numerous subversions) --&gt;
&lt;!-- - freely available under GNU GPL --&gt;
&lt;!-- - hostend on Comprehensive R Archive Network [CRAN](cran.r-project.org) for windows, mac and linux --&gt;
---
class: inverse

# RStudio
---
# Difference between R and RStudio


.pull-left[
.center[
    &lt;img src="img/Rlogo.png" style="width:20%"&gt;&lt;br&gt;
    ]
    
  R is the **programming language** that does the actual work
    
  - can be use with many different programming environments (But RStudio is the best for R)
]


.pull-right[
.center[
    &lt;img src="img/Rstudio_logo.png" style="width:15%"&gt;&lt;br&gt;
     ]
  
  Rstudio is the **integrated development environment** (IDE)
   - provides an interface to R
   - specifically built around R code 
   - execute code
   - syntax highlighting
   - file and project management
   - ...
]

--
&lt;br&gt;

.textbox[<svg aria-hidden="true" role="img" viewBox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"/></svg> You can use R without RStudio but RStudio without R would be of very little use.]

---

# Difference between R and RStudio

.pull-left[
.center[
    R is like the engine
    ]
  ]
.pull-right[
.center[
  RStudio is more like the dashboard, etc.
     ]
     ]

.center[![:scale 110%](img/day1/car_engine.png)]


.right[.small[analogy and imgae from 
[ModernDive Book](https://moderndive.com/1-getting-started.html#r-rstudio)]]

---

# A quick tour around RStudio

.center[![:scale 78%](img/day1/RStudio_all.png)]

---

# Console pane

.pull-left[
- execute R code directly
- output from R code in scripts is printed there
- type command and execute with `Enter`

<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg> Use the arrow keys to bring back the last commands
]

.pull-right[
  ![:scale 100%](img/day1/RStudio_console.png)
]

---

# Script pane

.pull-left[

- write R code scripts
  - scripts are text files with R commands (file ending `.R`)
  - use scripts to save commands for reuse
- create a new R script: &lt;br&gt; `File -&gt; New File -&gt; R Script`
- save an R script:&lt;br&gt; `File -&gt; Save` (`Ctrl/Cmd + S`)
- you can open multiple scripts at the same time
- run code line by line with `Run` button (`Ctrl + Enter/Cmd + Return`)

<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg> Use scripts for all your analysis and for commands that you want to save. Use the console for temporary commands, e.g. if you just want to test something.
]

.pull-right[
  ![:scale 100%](img/day1/RStudio_script.png)
]

---

# Environment pane

.pull-left[
- shows objects currently present in the R session
- is empty if you start R
]

.pull-right[
  ![:scale 100%](img/day1/RStudio_environment.png)
]


---

# Files pane

.pull-left[
- similar to Explorer/Finder
- browse project structure and files
  - find and open files
  - create new folders
  - delete files
  - rename files 
  - ...
]

.pull-right[
  ![:scale 100%](img/day1/RStudio_Files.png)
]

---

# Plot pane

.pull-left[
- Plots that are created with R will be shown here
- You can export plots by clicking on export button
  - but better to do it by code 
]

.pull-right[
  ![:scale 100%](img/day1/RStudio_plot.png)
]

---

# Project oriented workflow

.pull-left[
- one directory with all files relevant for project
  - scripts, data, plots, documents, ...
- an RStudio project is just a normal directory with an `*.Rproj` file

- advantages of using RStudio projects
    - easy to navigate projects within R Studio (`File` pane)
    - easy to find and access scripts from within `RStudio`
    - project root is working directory
    - open multiple projects simultaneously in seperate RStudio instances
]    

.pull-right[

```
Project
|
|- data
|
|- documents
|   |
|   |- notes
|   |- reports
|
|- analysis
|   |
|   |- clean_data.R 
|   |
|   |- statistics.R
|
|- *.RProj

```
]
.footnote-right[Example of a project structure]

---
    
# Create an RStudio project

.pull-left[
Create a project from scratch:
  
1. `File -&gt; New Project -&gt; New Directory -&gt; New Project`
2. Enter e Directory name (this will be the name of your project)
3. Choose the Directory where the project should be initiated
4. `Create Project`

RStudio will now create and open the project for you. 
]

.pull-right[
![](img/day1/RStudio_Files.png)
]
.footnote-right[Example of RStudio project structure]

---

# Navigate an RStudio project

.center[
![](img/day1/RStudio_Files.png)
]

---

# Open a project from outside RStudio

To open a project from within your file explorer, just double click on the `*.Rproj` file
.center[
![](img/day1/open_project.png)
]
---
class: inverse

# Intro to R
---
# R as a calculator

## Arithmetic operators

.left-column[
&lt;br&gt;
  &lt;table style='width:100%;font-size:16pt'&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Addition&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;+&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Subtraction&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;-&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Multiplication&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;*&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Division&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;/&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Modulo&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;%%&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Power&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;^&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

]

.right-column[


```r
# Addition
2 + 2
# Subtraction
5.432 - 34234
# Multiplication
33 * 42
# Division
3 / 42
# Modulo (Remainder)
2 %% 2
# Power
2^2
# Combine operations
((2 + 2) * 5)^(10 %% 10)
```

]

---

# R as a calculator

.left-column[
## Relational operators
&lt;br&gt;
  &lt;table style='width:100%;font-size:16pt'&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;Equal to&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;==&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;Not equal to&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;!=&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;Less than&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;&lt;&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;Greater than&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;&gt;&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;Less or equal than&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;&lt;=&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b&gt;Greater or equal than&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;&gt;=&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

]

.right-column[


```r
# Equal to
2 == 2
```

```
## [1] TRUE
```

```r
2 == 4
```

```
## [1] FALSE
```

```r
# Not equal to
2 != 2
```

```
## [1] FALSE
```

```r
2 != 4
```

```
## [1] TRUE
```

```r
# Less/greater than
2 &lt; 4
```

```
## [1] TRUE
```

```r
2 &gt; 4
```

```
## [1] FALSE
```

```r
# Less/greater or equal than
2 &lt;= 2
```

```
## [1] TRUE
```

```r
33 &gt;= 32
```

```
## [1] TRUE
```

]

---

#  R as a calculator

## Logical operators

.left-column[
&lt;br&gt;
  &lt;table style='width:100%;font-size:16pt'&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Not&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;!&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;And&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;&amp;&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
    &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:#67676;'&gt;Or&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code&gt;|&lt;/code&gt;&lt;/td&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
]


```r
# Not
!TRUE
```

```
## [1] FALSE
```

```r
!(3 &lt; 1)
```

```
## [1] TRUE
```

```r
# And
(3 &lt; 1) &amp; (3 == 3) # FALSE &amp; TRUE = FALSE
```

```
## [1] FALSE
```

```r
(1 &lt; 3) &amp; (3 == 3) # TRUE &amp; TRUE = TRUE
```

```
## [1] TRUE
```

```r
(3 &lt; 1) &amp; (3 != 3) # FALSE &amp; FALSE = FALSE
```

```
## [1] FALSE
```

```r
# Or
(3 &lt; 1) | (3 == 3) # FALSE | TRUE = TRUE
```

```
## [1] TRUE
```

```r
(1 &lt; 3) | (3 == 3) # TRUE | TRUE = TRUE
```

```
## [1] TRUE
```

```r
(3 &lt; 1) | (3 != 3) # FALSE | FALSE = FALSE
```

```
## [1] FALSE
```

---
class: inverse

# Objects and data types

---

# Comments in R

- Comments are like notes that you can add to your code to make it more readable
- Everything that follows a `#` sign is a comment
- Comments are not evaluated
- Comments can be used for
  - Explanation of your code (only if necessary)
  - Include a link to a website where you found the solution
  - Mark different sections of your code (<svg aria-hidden="true" role="img" viewBox="0 0 352 512" style="height:1em;width:0.69em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"/></svg> try `Ctrl/Cmd + Shift + R`)


```r
# Reading and cleaning the data -----------------

data &lt;- read_csv("data/my-data.csv")
# clean all column headers 
# (found on https://stackoverflow.com/questions/68177507/)
data &lt;- janitor::clean_names(data)

# Analysis --------------------------------------
```

---

# Variables

- store values under meaningful names to reuse them

--

- a variable has a .col1[name] and .col2[value] and is created using the .col3[assignement operator]:

.center[.large[.col1[radius] &amp;nbsp; .col3[&lt;-] &amp;nbsp; .col2[5]]]

--

- R is case sensitive: **r**adius != **R**adius

- choose meaningful variable names
  - make your code easier to read

---

# Variables



```r
# create a variable
radius &lt;- 5
# use it in a calculation and save the result
circumference &lt;- 2 * pi * radius
# change value of variable radius
radius &lt;- radius + 1
```
--

```r
# print a variable's value -----------------------
radius # just use the name
print(paste0("With a radius of ", radius, " the circumference is ",
             circumference)) 
# does this print the correct circumference for radius?
```
--

```r
# Remove variables from global environment -------
rm(radius) # remove radius
rm(list = ls()) # remove all elements
```

---

# Atomic data types

There are 6 so-called atomic data types in R. The 4 most important are:
--
&lt;br&gt;&lt;br&gt;
**Numeric:** There are two numeric data types: 

**Double:** can be specified in decimal (`1.243` or `-0.2134`), scientific notation (`2.32e4`) or hexadecimal (`0xd3f1`)

**Integer:** integers numbers that are not represented by fraction. Must be followed by an `L` (`1L`, `2038459L`, `-5L`)
&lt;br&gt;&lt;br&gt;
--

**Logical:** only two possible values `TRUE` and `FALSE` (abbreviation: `T` or `F` - but better use non-abbreviated form)
--

&lt;br&gt;&lt;br&gt;
**Character:** also called string. Sequence of characters surrounded by quotes ("hello", "sample_1")

---

# Check the type of a variable

- check the type of a variable with `typeof()`
- check if a variable is of a specific data type with `is.*()`


```r
var &lt;- 123L
typeof(var)
```

```
## [1] "integer"
```

```r
is.integer(var)
```

```
## [1] TRUE
```

```r
is.double(var)
```

```
## [1] FALSE
```

```r
is.numeric(var)
```

```
## [1] TRUE
```

```r
is.integer(123)
```

```
## [1] FALSE
```

```r
is.logical(TRUE)
```

```
## [1] TRUE
```

```r
is.logical("TRUE")
```

```
## [1] FALSE
```

```r
is.character("TRUE")
```

```
## [1] TRUE
```

```r
is.character(FALSE)
```

```
## [1] FALSE
```
# Explicit type conversion

You can convert a value from one data type to the other using `as*()`


```r
as.character(1L)
```

```
## [1] "1"
```

```r
as.integer(TRUE)
```

```
## [1] 1
```

```r
as.double(FALSE)
```

```
## [1] 0
```

```r
as.integer("hello")
```

```
## [1] NA
```

```r
as.integer("2")
```

```
## [1] 2
```
---

# Implicit type conversion

Type conversion can happen implicitly


```r
typeof(1L + 2.5) # integer -&gt; double
```

```
## [1] "double"
```

```r
typeof(1L + TRUE) # logical -&gt; integer
```

```
## [1] "integer"
```

```r
typeof(1.34 + FALSE) # logical -&gt; double
```

```
## [1] "double"
```

```r
#typeof("hello" + FALSE) # Error: no implicit conversion from string to other data types
```
---
class: inverse

# Vectors

---

# Vectors

Vectors are data structures that are built on the atomic data types.
Imagine a vector as a collection of values that are all of the same data type.


.center[

![](img/day1/vector_data_type.png)
]

.footnote-right[Image from [Advanced R book](https://adv-r.hadley.nz/vectors-chap.html#atomic-vectors)]

---

# Creating vectors: `c()`

We can use the function `c()` to *combine* values into a vector


```r
lgl_var &lt;- c(TRUE, TRUE, FALSE)
dbl_var &lt;- c(2.5, 3.4, 4.3)
int_var &lt;- c(1L, 45L, 234L)
chr_var &lt;- c("These are", "just", "some strings")
```
--
You can also combine multiple vectors into one:


```r
# Combine multiple vectors
v1 &lt;- c(1,2,3)
v2 &lt;- c(800, 83, 37)
v3 &lt;- c(v1, v2)
# Be aware of implicit type conversion when combining
# vectors of different types
c(int_var, lgl_var)
```

```
## [1]   1  45 234   1   1   0
```

---

# Creating vectors: `seq()` and `':'`

The `:` operator creates a sequence between to numbers with an increment of (-)1

```r
1:10
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10
```
--

The `seq()` function creates a sequence of values


```r
seq(from = 1, to = 10, by = 1) # specify increment of sequence
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10
```

```r
seq(from = 1, to = 10, length.out = 10) # specify desired length
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10
```

---

# Creating vectors: `rep()`

Repeat values multiple times with `rep()`


```r
rep("hello", times = 5)
```

```
## [1] "hello" "hello" "hello" "hello" "hello"
```
--

You can also repeat entire vectors


```r
rep(c(TRUE, FALSE, TRUE), times = 2)
```

```
## [1]  TRUE FALSE  TRUE  TRUE FALSE  TRUE
```

---

# Working with vectors

Let's create some vectors to work with.



```r
# list of 10 biggest cities in Europe
cities &lt;- c("Istanbul", "Moscow", "London", "Saint Petersburg", "Berlin", "Madrid", "Kyiv", "Rome", "Bucharest", "Paris")
population &lt;- c(15.1e6, 12.5e6, 9e6, 5.4e6, 3.8e6, 3.2e6, 3e6, 2.8e6, 2.2e6, 2.1e6)
area_km2 &lt;- c(2576, 2561, 1572, 1439,891,604, 839, 1285, 228, 105 )
```

We can check the length of a vector using the `length()` function:


```r
length(cities)
```

```
## [1] 10
```

---

# Working with vectors

If we want to calculate the population density in each of the cities, we can simply 
divide the population and the area vector.


```r
population / area_km2
```

```
##  [1]  5861.801  4880.906  5725.191  3752.606  4264.871  5298.013  3575.685  2178.988  9649.123
## [10] 20000.000
```

The operation is performed separately for each element of the two vectors. Result is
a vector as well. 
--

The same happens, if a vector is divided by vector of length 1 (i.e. a single number).
The result is always a vector.


```r
mean_population &lt;- mean(population) # calculate the mean of vector population
population / mean_population
```

```
##  [1] 2.5549915 2.1150592 1.5228426 0.9137056 0.6429780 0.5414552 0.5076142 0.4737733 0.3722504
## [10] 0.3553299
```

---

# Working with vectors

We can also work with relational and logical operators


```r
population &gt; mean_population
```

```
##  [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
```

The result is a vector containing `TRUE` and `FALSE`, depending on whether the city's population
is smaller than the mean population.

We can also combine operators


```r
# population larger than mean population OR population larger thant 3 million
population &gt; mean_population | population &gt; 3e6
```

```
##  [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE
```

---

# Working with vectors

The `%in%` operator checks whether *multiple* elements occur in a vector.

So instead of writing this:


```r
cities == "Istanbul" | cities == "Berlin" | cities == "Madrid"
```

```
##  [1]  TRUE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE
```
we can also write this: 


```r
to_check &lt;- c("Istanbul", "Berlin", "Madrid")
to_check %in% cities
```

```
## [1] TRUE TRUE TRUE
```

---

# Indexing vectors

You can use square brackets `[]` to access specific elements from an object.
The basic structure is:&lt;br&gt;&lt;br&gt;
.center[.col1[vector] [ .col2[vector of indexes to select] ]]

```r
cities[5]
```

```
## [1] "Berlin"
```

```r
cities[1:3] # the three most populated cities
```

```
## [1] "Istanbul" "Moscow"   "London"
```

```r
cities[length(cities)] # the last entry of the cities vector
```

```
## [1] "Paris"
```

---

# Indexing vectors

You can change the values of a vector at specified indexes using the assignment operator `&lt;-`

Imagine for example, that the population of Istanbul (index 1) increased to 20 Million, Rome (index 8) changed but is unknown and Paris (index 10) decreased by 200,000.

--


```r
# first copy the original vector to keep it untouched
population_new &lt;- population
# Update Istanbul (1) and Rome(8)
population_new[c(1, 8)] &lt;- c(20e6, NA) # NA means missing value
# Update Paris (10)
population_new[10] &lt;- population_new[10] - 200000 
```


```r
population_new
```

```
##  [1] 20000000 12500000  9000000  5400000  3800000  3200000  3000000       NA  2200000  1900000
```

---

# Indexing vectors

You can also index a vector using logical tests. The basic structure is:&lt;br&gt;

.center[.col1[vector][.col2[logical vector of same length]]]


```r
mega_city &lt;- population &gt; mean_population
mega_city
```

```
##  [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE
```

Now extract only the cities that return `TRUE` for the comparison of their population
against the mean population


```r
cities[mega_city]
```

```
## [1] "Istanbul" "Moscow"   "London"
```

---

# Summary

.content-box-purple[asdf√∂laksdjf√∂asldkfjasdfkdddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd&lt;br&gt;
dlsakfjas√∂dlfkjasdf]

---
# Resources

- [Getting started with R and RStudio](https://moderndive.com/1-getting-started.html#r-rstudio)
- [More about RStudio projects](https://rstats.wtf/project-oriented-workflow.html#work-in-a-project)



    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="macros.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": false,
"slideNumberFormat": "<div class=\"progress-bar-container\">\n  <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">\n  </div>\n</div>\n"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
