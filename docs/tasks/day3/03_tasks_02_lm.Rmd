### 1.1 Getting started

We will again use the `penguins` tibble from the `palmerpenguins` package for this task.

So before you get started with the exercise, make sure that you load the `palmerpenguins` package and the `tidyverse`

```{r echo=TRUE, eval=FALSE}
library(palmerpenguins)
library(tidyverse)
```

To test the assumptions of linear models, we will use the `performance` package. Make sure you install it once and then load it:

```{r echo=TRUE, eval=FALSE}
install.packages("performance")
library(performance)
```

The `performance` package depends on other packages. It might happen that you encounter an error when trying to load or use the package for the first time. Just read the error message and install the missing packages with `install.packages()` (likely this will be the case for the `qqplotr` package).

### 1.2 Linear regression

Let's start with a simple linear regression.

Does the bill depth depend on bill length?

- Make a scatter plot of bill length on the x and bill depth on the y axis.

Now:

- Fit a linear model to test this relationship
- Check for significant effects: What do the results mean?
- Check the model assumptions using diagnostic plots

What do you think? Are the assumptions violated or do the plots look okay?

- Can you add the regression line to the scatter plot?

### 1.3 Analysis of covariance

Does the relationship between bill length and bill depth differ between penguin species?

- Add the species variable as color aesthetic to the scatter plot from 1.2

- Fit the linear model again, including species as second explanatory variable
  - Fit a model **without** interaction between species and bill length

- Test model assumptions the both model

- Check for significant effects models

- Add the regression lines to the plot

#### Extra

- Now fit a model **with** interaction between species and bill length. Test assumptions and significant effects also for this model. Which model would you choose? The one with or without interaction?

Which model would you choose? It the model results in the scatter plot from before.

### 1.4 Anova

Do the weight of penguins depend on sex and species?

- Before you start exploring this question, remove penguins with missing `sex` variable from the data

- Think of a plot that can represent this question and plot it

- Fit a linear model that represents this question (with interaction between sex and species)

- Test for significant predictors

- Test model assumptions

#### Extra

Improve the looks of the Anova result plot. You can be as creative as you want, e.g. take inspiration from plots you saw in the presentation.

Some ideas:

- Make a boxplot and try to add a combination of `geom_point()` and `position = position_jitterdodge()`

- A bit tricky: Summarize the data (calculate mean and standard deviation) grouped by species and sex. The plot points + errorbars for mean + sd. Have a look [here](https://www.datanovia.com/en/lessons/ggplot-error-bars/) to see how you can do this. 

- Same as above but with bars instead of points to represent means
